@import 'jeet'
@import 'vars'

html
  font-size: 19px
  font-family: 'times new roman',Times,serif
  @media(max-width: $breakpoint-phone)
    font-size: 16px


#main
  // scroll-snap-type: y proximity
  overflow-y: scroll
  overflow-x: hidden

#main > .pg
  position: relative
  /* Snap align start. */
  // scroll-snap-align: start

header
  max-width: 1024px
  margin: 0 auto

  nav
    clearfix()
    padding: 15px
    font-size: 0.8rem
    a
      display: block
      float: right
      white-space: nowrap
      font-family: Tahoma, sans-serif
      margin-left: 2rem
      color: #999
      text-decoration: none
    a:hover
    a.on
      color: black
    a.logo
      display: block
      float: left
      margin-left: 0
      width: 7rem
      font-family: Tahoma, sans-serif
      color: black
    a.logo.on
      font-weight: bold

//- start: Hero Unit
.hero
.hero-grid
.hero-cell
  background-position: center
  background-repeat: no-repeat
  background-size: cover
  box-sizing: border-box

  h1
    padding: 0
    font-weight: normal
    text-align: center
    box-sizing: border-box
    color: black

// Large Hero
// @media(min-width: $mediaBp1Width)
.hero
  position: relative
  height: 768px
  max-height: 80vw

  .hero-grid
    position: relative
    height: 100%

  h1
  .hero-cell
    position: absolute
    height: calc(33.33% - .35rem)
    width: calc(25% - .35rem)
    transition: opacity 0.3s ease-in
    z-index: 2

  &.on .hero-cell
    opacity: 1

  .hero-cell
    opacity: 0

  h1
    display: table
    bottom: 33.33%
    left: 50%
    margin: 0
    background-color: white
    font-size: 2.2rem
    line-height: 1.2
    opacity: 0.97
    span
      display: table-cell
      vertical-align: middle
      padding: 0 1rem .6rem


  &.on h1
    opacity: 0

  #hero-blank-bottom
    top: 66.66%
    left: 25%
    background-color: white
    opacity: 0
    &::after
      display: block
      height: 100%
      content: ''
      opacity: 1
      background: url(/images/arrows.svg) center 60% no-repeat
      transition: background-position-y 300ms 3s ease-in
    &:hover::after
      background-position-y: 75%
      background-size: 22%
      cursor: s-resize
      transition-delay: 0

  #hero-becak1
    top: 25%
    background-image: url(/images/hero/IMG_4773.jpg)
  &.on #hero-becak1
    transition-delay: 400ms
    transition-duration: 500

  #hero-becak2
    left: calc(25% + .35rem*.25)
    top: 50%

    background-image: url(/images/hero/IMG_4784.jpg)
  &.on #hero-becak2
    transition-delay: 600ms
    transition-duration: 500

  #hero-becak3
    top: 33.33%
    left: calc(50% + .35rem*.5)

    border-right-width: $hero-border
    background-image: url(/images/hero/arie-becak.jpg)
  &.on #hero-becak3
    transition-delay: 800ms
    transition-duration: 500

  #hero-becak4
    top: 50%
    left: calc(75% + .35rem*.75)
    background-image: url(/images/hero/_MG_6813.jpg)
  &.on #hero-becak4
      transition-delay: 1000ms
      transition-duration: 500

  @media(min-width: $mediaBp1Width)
    &:hover #hero-blank-bottom
      opacity: 0.97

  &.on #hero-blank-bottom
    opacity: 0


#story .hero
  background-image: url(/images/hero/becak-lineup.jpg)
  #hero-blank-bottom
    top: 66.6%

#plans .hero
  background-image: url(/images/hero/plans-lg.jpg)
#contact .hero
  background-image: url(/images/hero/contact-lg.jpg)

// hero fade in
.is-js .hero
  &.hero-grid::after
    position: absolute
    content: ''
    top: 0
    left: 0
    bottom: 0
    right: 0
    background-color: #eee
    z-index: 1
    transition: opacity 1s linear

  &.loaded .hero-grid::after
    opacity: 0

  &.on .hero-grid::after
    opacity: 0.9
    background-color: white
    transition: opacity 10ms linear

// Vertical Tablet Hero
@media(min-width: $breakpoint-phone) and (max-width: $mediaBp1Width)
  .hero
    position: relative
    width: auto
    height: 500px
    max-height: 65.1vw
    background-color: black

    .hero-cell
      height: calc(25vw - .35rem)

    #hero-blank-bottom
      visibility: hidden

    h1
      position: absolute
      top: 25%
      bottom: auto !important
      left: 33.33%
      margin: 0
      height: 33vw
      width: 33vw
      text-align: center
      transition: opacity 0.5s ease-in
      background-color: white
      font-size: 2.2rem
      line-height: 1.4
      color: black
      opacity: 1

  #story .hero
    background-image: url(/images/hero/hero-md.jpg)
  #plans .hero
    background-image: url(/images/hero/plans-md.jpg)
  #contact .hero
    background-image: url(/images/hero/contact-md.jpg)

// Phone Hero
@media(max-width: $breakpoint-phone)
  .hero
    max-height: none
    height: auto
    background-image: none !important
    h1
      position: relative
      display: block
      margin: 0 auto
      padding-top: 1.7rem
      top: auto
      left: auto
      width: auto
      height: auto
      max-width: 80%
      font-size: 1.6rem
      text-align: left
      opacity: 1 !important
      span
        padding: 0

    .hero-grid
      position: relative
      height: 50vw

    .hero-cell
      position: absolute
      border: 0 solid white
      transition: opacity 400ms ease-in
      width: 50vw
      height: 50vw
      opacity: 0
      &.on
        opacity: 1

    #hero-becak1
      top: 50vw
      border-width: $hero-border $hero-border 0 0

    #hero-becak2
      top: 0
      left: 50vw
      border-width: 0 0 $hero-border $hero-border

    #hero-becak3
      left: 50vw
      top: 50vw
      border-width: 0

    #hero-becak4
      top 0
      left: 0
      border-width: 0

    #hero-blank-bottom
      visibility: hidden

  #story .hero-grid
    background-image: url(/images/hero/hero-sm.jpg)
    height: 100vw

  #plans .hero-grid
    background-image: url(/images/hero/plans-sm.jpg)

  #contact .hero-grid
    background-image: url(/images/hero/contact-sm.jpg)

//- end: Hero Unit

article
  clearfix()
  display: block
  margin: 0 auto
  width: 1024px
  max-width: 100%
  background-color: white
  background-repeat: no-repeat

  a
    color: #180;
    text-decoration: none
    &:hover
      text-decoration: underline

  a.map-link
    color: #666
    &::before
      content: '>'

  img
    display: block
    height: auto
    max-width: 100%

  p
    margin-bottom: 1.5rem
    line-height: 1.2

  p.heading:first-letter
    float: left
    font-size: 75px
    line-height: 60px
    padding-top: 4px
    padding-right: 8px
    padding-left: 3px

  .inner
    center(80%)
    padding-top: 2rem
    padding-bottom: 2rem

    & + .inner
    & + .boxed
      padding-top: 0
    .boxed
      padding-bottom: 0

  .boxed
    clearfix()
    padding-top: 2rem
    padding-left: 3rem
    padding-right: 3rem
    padding-bottom: 2rem
    img
      border: $boxed-border solid #666
      @media(max-width: $breakpoint-phone)
        border: 5px solid #666

    & + .inner
      padding-top: 0
    figure
      margin: $boxed-border

.half-col
  float: left
  width: 50%
  box-sizing: border-box
  // @media(max-width: $breakpoint-phone)
  //   max-width: 450px

.third-col
  float: left
  width: 33.33%
  box-sizing: border-box
  @media(max-width: $breakpoint-phone)
    max-width: 300px

.quarter-col
  float: left
  width: 25%
  box-sizing: border-box
  @media(max-width: $breakpoint-phone)
    max-width: 300px

picture.half-col
picture.third-col
picture.quarter-col
  padding-left: (3 * $boxed-border)
  padding-right: (3 * $boxed-border)
  img
    margin: 0 auto

@media(max-width: $breakpoint-phone)
  .half-col
  .third-col
    float: none
    margin-top: (3 * $boxed-border)
    margin-left: auto
    margin-right: auto
  .half-col:first-child
  .third-col:first-child
    margin-top: 0

  .quarter-col
    margin-top: (3 * $boxed-border)
    width: 50%

  picture.half-col
  picture.third-col
    width: 75%

picture
  display: block

figure
  margin: .25rem 0
  font-size: 0.8rem
  line-height: 1.4
  color: #666
  background-color: white

//- start: parallax section
#main
  @media(min-width: $breakpoint-parallax)
    perspective: 1px
    transform-style: preserve-3d
  height: 100vh
  overflow-x: hidden
  overflow-y: scroll
  -webkit-overflow-scrolling: touch

@media(min-width: $breakpoint-parallax)
  header
    position: relative
    transform: translateZ(-1px) scale(2)

#intro
.parallax .inner
  position: relative
  display: block
  background-color: white
  z-index: 1

.parallax
  position: relative
  margin: 0 auto
  max-width: 1024px
  picture
    object-fit: cover
    source
    img
      position: relative
      height: auto
      width: 100%
      @media(min-width: $breakpoint-parallax)
        transform: translateZ(-.2px) scale(1.2)
        z-index: -2

//- end: parallax section

//- start: Pages custom css
#horizontal
  position: relative
  background: white url(/images/large/becak-all.jpg) center left no-repeat
  height: 50vw
  max-height: 20rem
  background-size: cover
  transition: left 5ms ease-in
  @media(max-width: $breakpoint-phone)
    max-height: none
#intro
  padding: 1rem 0 0
  .inner
    padding-bottom: 0
  @media(max-width: $breakpoint-phone)
    margin-top: -3rem

.pg1 > article
  padding: 2rem 0 2rem 2rem
  background: black url(/images/pg1-reverse.jpg) 100% 50% no-repeat
  background-size: contain
  color: white
  box-sizing:content-box

  p
    margin-left: 2rem
    margin-right: 50%
    font-size: 0.95rem
    line-height: 1.5
    min-width: 320px
    @media(max-width: $breakpoint-tablet)
      margin-left: 0
      font-size: 0.88rem  //make bigger for tablet vertical

  @media(min-width: $breakpoint-page)
    background-size: 56%
    p
      margin-right: 60%

  @media(max-width: $breakpoint-phone)
    background: black url(/images/pg1-reverse-sm.jpg) top center no-repeat
    background-size: contain
    width: auto
    p
      margin-right: 2rem
      min-width: 0
      font-size: 1rem
    p:first-child
      margin-top: 102vw

.pg2 > article
  display: flex
  justify-content: center
  align-items: center
  max-height: 722px
  height: 90vw
  background: url(/images/cab-frame-top.png) center no-repeat
  background-size: cover
  picture
    display: block
    max-width: 50%
  img
    box-sizing: border-box
    border: .9rem solid black

.pg7
  padding-bottom: 4rem
  &.decorative:after
    margin: -3rem auto 0
    display: block
    height: 13vw
    max-width: 1024px
    content: ''
    background: white url(/images/toe-step.png) center no-repeat
    background-size: contain

.pg11
  background: url(/images/cab-frame-side.png) bottom no-repeat
  background-size: contain

.pg12 > article
  background-image: url(/images/grill.png)
  background-position: top
  background-size: cover

.pg14 > article
  background: url(/images/seat-backrest.png)
  background-position: bottom
  background-repeat: no-repeat

.pg22
.pg23
   picture
     center(400px)

footer
  a
    display: block
    margin: 2rem 0 4rem
    text-align: center
    font-family: Tahoma, sans-serif
    font-size: 0.8rem
    color: #666
    text-transform: lowercase
    text-decoration: none

dl.plan
  clearfix()
  dt
    clear: left
    float: left

    display: block
    margin-bottom: 1rem
    font-size: 16px
    line-height: 19px
    width: 200px
    // outline: 1px dotted blue

  dd
    float: left
    display: block
    margin-bottom: 3rem
    margin-left: 0
    // outline: 1px dotted green

.download
  font-family: Tahoma, sans-serif
  // font-size: 0.7rem
  font-size: 13px
  color: #666
  a
    display: block
    text-decoration: none
    color: #333

.media
  overflow: hidden
  _overflow: visible
  zoom: 1
  .img
    float: left
    display: block
    margin-right: 30px
    width: 140px
    height: 140px
  .bd
    // font-family: Tahoma, sans-serif
    font-size: 0.85rem
    color: #666

    overflow: hidden
    _overflow: visible
    zoom: 1

  // Vertical Tablet Hero
  @media(max-width: $mediaBp1Width)
    width: 100%
    padding-left: 0
    max-width: none
    .img
      margin-right: 20px
      width: 100px
      height: 100px
    .bd
      font-size: 0.75rem

.doublemedia
  clearfix()
  margin: 0 auto
  padding-top: 3rem
  padding-bottom: 2rem
  max-width: 80%
  & > .media
    margin-bottom: 30px
