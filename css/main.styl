@import 'jeet'
@import 'vars'

*
  box-sizing: border-box
  margin: 0

html
  font-size: 19px
  font-family: 'EB Garamond', Times, serif
  overflow-x: hidden
  -webkit-font-smoothing antialiased
  -moz-osx-font-smoothing grayscale
  @media(max-width: $breakpoint-phone)
    font-size: 16px

body
  width: 100%

header
  nav
    max-width: 1024px
    margin: 0 auto
    padding: 15px
    text-align: right
    font-size: 0.8rem
    a
      white-space: nowrap
      font-family: Tahoma, sans-serif
      margin-left: 2rem
      color: #999
      text-decoration: none
    a:hover
    a.on
      color: black
    a:hover
      text-decoration: underline
    a.on:hover
      text-decoration: none

.menu
  display: none

@media(max-width: $breakpoint-phone)
  .menu
    display: block
    transition: 0.1s transform linear
    position: relative
    background: 0
    float: left
    margin: 1.2rem 1rem
    height: 2rem
    width: 2rem
    z-index: 10
    outline: 0
    padding: 0
    border: 0
    cursor: pointer

  .bar
    &, &::before, &::after
      transition: 0.2s background linear 0.1s, 0.2s top linear 0.2s, 0.2s transform linear
      position: absolute
      background: #fff
      margin: auto
      width: 100%
      height: 0.2rem
      content: ''
      top: 50%
      left: 0
      box-shadow: 1px 1px 2px #333

    &
      margin-top: -0.2rem

    &::before
      top: -0.75rem

    &::after
      top: 0.75rem

    &::before,
    &::after
      transform: rotate(0deg)

    .active &
      background: 0
      box-shadow: 0

      &::before
        transform: rotate(45deg)

      &::after
        transform: rotate(-45deg)

      &::before,
        &::after
        top: 0

      &,
      &::before,
      &::after
        transition: 0.2s background linear 0.1s, 0.2s top linear, 0.2s transform linear 0.2s
        box-shadow: none

  header
    nav
      position: fixed
      padding: 3.5rem 0 0
      text-align: left
      width: 250px
      height: 100%
      background-color: #999
      transform: translateX(-250px)
      transition: transform 0.6s cubic-bezier(.56,.1,.34,.91)
      z-index: 9

      .menu-open &
        transform: translateX(0)

      a
        display: block
        margin-left: 0
        padding: 0.6rem 1rem
        width: 100%
        font-size: 1.4rem
        color: white

        &:hover
          background: #333
          color: white

//- start: Hero Unit
.hero
  background-position: center
  background-repeat: no-repeat
  background-size: cover

#headline
  margin: 2rem auto 0
  max-width: 1024px
  h1
    margin: 0 auto
    padding: 0
    font-size: 3rem
    font-weight: normal
    font-family: 'Ovo', serif
    width: 70%
    @media(max-width: $breakpoint-phone)
      font-size: 11.5vmin
      width: 90%

// Large Hero
// @media(min-width: $mediaBp1Width)
.hero
  position: relative
  height: 35vw

#story .hero
  background-image: url(/images/hero/hero-lg.jpg)

#plans .hero
  background-image: url(/images/hero/plans-lg.jpg)
#contact .hero
  background-image: url(/images/hero/contact-lg.jpg)
#faq .hero
  background-image: url(/images/hero/faq-lg.jpg)
  background-position-y: 2%

// hero fade in
.is-js .hero::after
    position: absolute
    content: ''
    top: 0
    left: 0
    bottom: 0
    right: 0
    background-color: #eee
    z-index: 1
    transition: opacity 1s linear
.is-js .hero.loaded::after
    opacity: 0

// Vertical Tablet Hero
@media(min-width: $breakpoint-phone) and (max-width: $mediaBp1Width)
  .hero
    position: relative
    width: auto
    height: 500px
    max-height: 65.1vw

  #story .hero
    background-image: url(/images/hero/hero-md.jpg)
  #plans .hero
    background-image: url(/images/hero/plans-md.jpg)
  #contact .hero
    background-image: url(/images/hero/contact-md.jpg)
  #faq .hero
    background-image: url(/images/hero/faq-md.jpg)


// Phone Hero
@media(max-width: $breakpoint-phone)
  h1
    padding-top: 1.7rem
    font-size: 1.6rem

  .hero
    position: relative
    height: 50vw
    max-height: none

  #story .hero
    background-image: url(/images/hero/hero-sm.jpg)

  #plans .hero
    background-image: url(/images/hero/plans-sm.jpg)

  #contact .hero
    background-image: url(/images/hero/contact-sm.jpg)

  #faq .hero
    background-image: url(/images/hero/faq-sm.jpg)
//- end: Hero Unit

.pg
  display: block
  margin: 2vw auto
  width: 1024px
  max-width: 100%
  background-color: white
  background-repeat: no-repeat

  a
    color: #180
    text-decoration: none
    &:hover
      text-decoration: underline

  a.map-link
    position: relative
    color: #666

    &::after
      display: absolute
      margin-left: 2px
      content: url(/images/map.svg)
      width: 18px
      height: 16px
      vertical-align: text-bottom

  img
    display: block
    height: auto
    max-width: 100%

  p
    margin: 1vw 0
    line-height: 1.4

  p.heading:first-letter
    float: left
    font-family: 'Ovo', serif
    // font-size: 75px
    // line-height: 60px
    // padding-top: 4px
    font-size: 4.6rem
    line-height: 3rem
    padding-top: 0.8rem
    padding-right: 8px
    padding-left: 3px


  .inner
    margin: 0 auto
    padding-top: 1vw
    padding-bottom: 1vw
    width: 70%
    @media(max-width: $breakpoint-phone)
      width: 90%

    & + .inner
    & + .boxed
      padding-top: 0
    .boxed
      padding-bottom: 0

  .boxed
    clearfix()
    padding-top: 1vw
    padding-left: 2vw
    padding-right: 2vw
    padding-bottom: 2vw
    img
      position: relative
      border: $boxed-border solid #666

    & + .inner
      padding-top: 0
    figure
      margin: ($boxed-border * 2) 2px

.half-col
  float: left
  width: 50%

.third-col
  float: left
  width: 33.33%
  @media(max-width: $breakpoint-phone)
    max-width: 300px

.quarter-col
  float: left
  width: 25%
  @media(max-width: $breakpoint-phone)
    max-width: 300px

picture.half-col
picture.third-col
picture.quarter-col
  padding-left: (1.5 * $boxed-border)
  padding-right: (1.5 * $boxed-border)
  img
    margin: 0 auto

@media(max-width: $breakpoint-phone)
  .half-col
  .third-col
    float: none
    margin-top: (1 * $boxed-border)
    margin-left: auto
    margin-right: auto
    margin-bottom: (1.5 * $boxed-border)

  .quarter-col
    margin-top: $boxed-border
    margin-bottom: (1 * $boxed-border)
    width: 50%

  picture.half-col
  picture.third-col
    width: 75%

picture
  display: block

figure
  margin: .25rem 0
  font-size: 0.8rem
  line-height: 1.4
  color: #666


picture.big
  margin: 2vw auto 3vw
  max-width: 1024px
  source
  img
    height: auto // responsive image sizing
    width: 100%  // responsive image sizing

//- start: Pages custom css
#horizontal
  position: relative
  background: white url(/images/backgrounds/becak-all.jpg) center left no-repeat
  height: 42vw
  max-height: 330px
  width: 100%
  background-size: cover
  transition: left 5ms ease-in

.pg1
  padding: 2rem 0 2rem 2rem
  background: black url(/images/story/pg1-reverse.jpg) 100% 50% no-repeat
  background-size: contain
  color: white
  box-sizing:content-box

  p
    margin-left: 2rem
    margin-right: 50%
    font-size: 0.95rem
    line-height: 1.5
    min-width: 320px
    @media(max-width: $breakpoint-tablet)
      margin-left: 0
      font-size: 0.88rem  //make bigger for tablet vertical

  @media(min-width: $breakpoint-page)
    background-size: 56%
    p
      margin-right: 60%

  @media(max-width: $breakpoint-phone)
    background: black url(/images/story/pg1-reverse-sm.jpg) top center no-repeat
    background-size: contain
    width: auto
    p
      margin-right: 2rem
      min-width: 0
      font-size: 1rem
    p:first-child
      margin-top: 102vw

.pg2
  display: flex
  margin-top: 3rem
  justify-content: center
  align-items: center
  max-height: 760px
  height: 80vw
  background: url(/images/backgrounds/cab-frame-top.png) center no-repeat
  background-size: 100%
  picture
    display: block
    max-width: 35%
    &.explode
      opacity: 0
      transition: all 400ms 500ms ease-in
      transform: scale(0)
      &.on
        opacity: 1
        transform: scale(1)

  img
    box-sizing: border-box
    border: 1.2vw solid black
    outline: 1px solid black
    outline-offset: -2px

.pg7
  padding-bottom: 3vw
  &:after
    margin: -3vw auto 0
    display: block
    height: 13vw
    content: ''
    background: white url(/images/backgrounds/toe-step.png) center no-repeat
    background-size: contain

.pg11
  background-image: url(/images/backgrounds/spring-axel.png)
  background-position: left bottom
  background-size: contain

.pg13
  background-image: url(/images/backgrounds/grill.png)
  background-position: bottom
  background-size: contain

.pg14
  background-image: url(/images/backgrounds/flowers.png)
  background-position: 50% 70%
  background-size: 100%

.pg22
.pg23
.pg24
   picture
     center(400px)

dl.plan
  clearfix()
  margin-top: 3rem
  dt
    clear: left
    float: left

    display: block
    margin-bottom: 1rem
    font-size: 16px
    line-height: 19px
    width: 200px
    // outline: 1px dotted blue

  dd
    float: left
    display: block
    margin-bottom: 3rem
    margin-left: 0
    // outline: 1px dotted green

.download
  font-family: Tahoma, sans-serif
  // font-size: 0.7rem
  font-size: 13px
  color: #666
  a
    display: block
    text-decoration: none
    color: #333

.media
  overflow: hidden
  _overflow: visible
  zoom: 1
  .img
    float: left
    display: block
    margin-right: 30px
    width: 140px
    height: 140px
  .bd
    // font-family: Tahoma, sans-serif
    // font-size: 0.85rem
    color: #666

    overflow: hidden
    _overflow: visible
    zoom: 1

  // Vertical Tablet Hero
  @media(max-width: $mediaBp1Width)
    width: 100%
    padding-left: 0
    max-width: none
    .img
      margin-right: 20px
      width: 100px
      height: 100px


.singlemedia
  width: 70%
.doublemedia
  width: 80%
.singlemedia
.doublemedia
  clearfix()
  margin: 0 auto
  padding-top: 3vw
  padding-bottom: 2vw
  & > .media
    margin-bottom: 30px


@keyframes animatedBackground
  from
    background-position-y: 100%
  to
    background-position-y: 01px

a.top
  position: relative
  display: block
  float: right
  margin: 0
  width: 2rem
  height: 1rem
  text-align: center
  font-family: Tahoma, sans-serif
  font-size: 0.8rem
  color: #666
  text-transform: lowercase
  text-decoration: none

  &::before
    position absolute
    left: 0
    bottom: 0
    width: 2rem
    height: 3rem
    content: ''

  &::after
    position absolute
    left: 50%
    margin-left: -0.5rem
    bottom: 1rem
    width: 1rem
    height: 1rem
    background-image: url("data:image/svg+xml,%3Csvg width='50px' height='85px' viewBox='0 0 50 85' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg fill='%23ffffff'%3E%3Cpath d='M4,43.5 L25,80 L45,43.5 L4,43.5 Z'%3E%3C/path%3E%3Cpath d='M4,5 L25,41 L45,5 L4,5 Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E")
    background-position: 50% 2px
    background-size: 100%
    background-repeat: repeat
    transform: rotate(180deg)
    opacity: 0.8
    content: ''
    // transform: backgroundPosition 1s linear

  &:hover::after
    animation: animatedBackground 2s linear infinite


footer
  display: block
  padding: 1rem
  font-size: 0.8rem
  background-color: black

  nav
    clear: both

  a
    display: inline-block
    margin-left: 4vw
    color: white
    white-space: nowrap
    font-family: Tahoma, sans-serif
    text-decoration: none
  a.on
    display: none

  .external
    display: block
    margin: 2.5rem 0
    text-align: center
    line-height: 1.3rem
    a
      margin: 0
      padding: 0 .25rem

@media(max-width: $breakpoint-phone)
  .hide-phone
    display: none

  .singlemedia
  .doublemedia
    width: 90%

.lazyload
  opacity: 0.2
  transition: opacity 400ms ease-in
